<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>Autodydaktycznie. Blog o technologiach webowych i IT | Julia Glaszka</title><meta name="gridsome:hash" content="40d5ba3fa0007bcd2ed7bbdc51cf2c12d0822b3b"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="theme-color" content="#261447"><meta data-vue-tag="ssr" name="msapplication-navbutton-color" content="#261447"><meta data-vue-tag="ssr" name="apple-mobile-web-app-status-bar-style" content="#261447"><meta data-vue-tag="ssr" name="viewport" content="width=device-width"><meta data-vue-tag="ssr" data-key="description" name="description" content="Blog o moich samodzielnych zmaganiach z nauką z różnych dziedzin IT. "><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.34768914d4a101067dd64a8f857ab22c.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Work+Sans:700&amp;display=swap"><link rel="preload" href="/assets/css/0.styles.71e9b220.css" as="style"><link rel="preload" href="/assets/js/app.3b512c09.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.be7a2abd.js" as="script"><link rel="prefetch" href="/assets/js/10.3b50f46c.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.417867aa.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.d27dbf01.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--tag-vue.763348b9.js"><link rel="prefetch" href="/assets/js/page--src--templates--author-vue.af94a653.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.eee14f0d.js"><link rel="prefetch" href="/assets/js/vendors~page--src--pages--index-vue~page--src--templates--author-vue~page--src--templates--post-vue~~a0fae544.8b29f019.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--post-vue.681ad00a.js"><link rel="stylesheet" href="/assets/css/0.styles.71e9b220.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased font-serif" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%20font-serif%22%7D%7D">
    <div data-server-rendered="true" id="app" class="container-fluid "><nav class="navbar"><div class="navbar-brand container has-text-centered has-padding-bottom-10 has-padding-top-15"><a href="/" class="navbar-item has-text-weight-semibold has-text-black-bis	">✨ Julia Glaszka ✨</a></div></nav><header data-v-7271fefd><nav class="section p-b-xs p-t-md" data-v-7271fefd><div class="container"><a href="/" class="button is-outlined is-rounded is-small active">
      ← Powrót</a></div></nav><section class="hero" data-v-7271fefd><div class="hero-body" data-v-7271fefd><div class="container has-text-centered" data-v-7271fefd><div class="columns is-centered" data-v-7271fefd><div class="column is-half-desktop" data-v-7271fefd><h5 class="has-text-6 is-uppercase" data-v-7271fefd>
              5 min czytania
            </h5><h1 class="title is-size-2 p-t-md" data-v-7271fefd>
              Elasticsearch - to nie tylko logi.
            </h1><h2 class="subtitle p-t-md" data-v-7271fefd><span data-v-7271fefd><a href="/author/Julia/" class="text-gray-700 capitalize border-b border-transparent hover:border-gray-400 transition-colors duration-300" data-v-7271fefd>
                  Julia</a> •
              </span><time datetime="2020-09-07 22:56:24" class="capitalize" data-v-7271fefd>07 September, 2020</time></h2></div></div></div></div></section><div class="section" data-v-7271fefd><div class="container" data-v-7271fefd><div class="columns is-centered" data-v-7271fefd><div class="column image-container" data-v-7271fefd><img src="/images/posts/elasticsearch-zapytania/searching.jpg" alt="Elasticsearch - to nie tylko logi." data-v-7271fefd></div></div></div></div></header><div class="section"><div class="columns is-centered"><div class="column is-two-thirds-tablet is-half-desktop"><div role="alert" class="leading-normal p-4 md:mx-6 mb-12 notification">
          Ten post ma ponad rok, może być nieaktualny.
        </div><div class="content"><p>Elasticsearch to zaawansowany silnik wyszukiwań a jednocześnie baza danych pozwalająca na przechowywanie różnych typów danych. Wykorzystywana jest głównie przy komercyjnych wyszukiwarkach oraz przy gromadzeniu logów systemowych. Dzięki Elasticsearch, możesz wykonywać skomplikowane wyszukiwania, filtry i agregacje, a także wykorzystywać słowniki.</p>
<h3 id="wstępne-ustalenia">Wstępne ustalenia</h3>
<p>Ogólnie myślę, że sensownie będzie zapisywać działania do plików, dzięki czemu będzie łatwiej zrekonstruować listę kroków. Warto utworzyć tworzyć osobny katalog na czas ćwiczeń. Całość prawdopodobnie złożę jako projekt na githubie, więc będzie dostępny do sklonowania. </p>
<h3 id="przykładowy-use-case">Przykładowy use case</h3>
<p>Razem z moim trzyosobowym zespołem w ramach hobbystycznych praktyk rozwijaliśmy mini-platformę do wystawiania ogłoszeń. Jednym z wymagań była wyszukiwarka, dzięki której mozna wyszukiwać produkty: po tytule, slowach kluczowych, kategorii, cenie i lokalizacji. Zdecydowaliśmy się na elasticsearch, ponieważ wspiera wyszukiwanie pełnotekstowe i geograficzne.</p>
<h3 id="setup">Setup</h3>
<p>Na potrzeby zabawy postawimy sobie 2 kontenery dockerowe z elasticem + kibaną. Zdefiniowaliśmy:</p>
<ul>
<li>1 kontener z elasticsearch w wersji 7.8.0</li>
<li>1 kontener z kibaną w wersji 7.6.0</li>
<li>2 woluminy, na których będą przechowywane dane</li>
<li>sieć o nazwie elastic-network</li>
</ul>
<p>Wersje nie są najnowsze, ale akurat miałam te obrazy lokalnie na komputerze. Można w razie czego zmienić na nowszą.</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #8FBCBB">version</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">'</span><span style="color: #A3BE8C">2.2</span><span style="color: #ECEFF4">'</span>
<span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">es01</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">docker.elastic.co/elasticsearch/elasticsearch:7.8.0</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">bootstrap.memory_lock=true</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">ES_JAVA_OPTS=-Xms512m -Xmx512m</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">discovery.type=single-node</span>
<span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">data01:/usr/share/elasticsearch/data</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">ports</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">9200:9200</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">networks</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">elastic-network</span>
<span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">kibana01</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">docker.elastic.co/kibana/kibana:7.6.0</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">kib01</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">ports</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">5601:5601</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #8FBCBB">ELASTICSEARCH_URL</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">http://es01:9200</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #8FBCBB">ELASTICSEARCH_HOSTS</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">http://es01:9200</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">depends_on</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">es01</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">networks</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">     </span><span style="color: #ECEFF4">- </span><span style="color: #A3BE8C">elastic-network</span>
<span style="color: #D8DEE9FF"> </span>
<span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">data01</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">driver</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">local</span>
<span style="color: #D8DEE9FF"> </span>
<span style="color: #8FBCBB">networks</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF"> </span><span style="color: #8FBCBB">elastic-network</span><span style="color: #ECEFF4">:</span>
<span style="color: #D8DEE9FF">   </span><span style="color: #8FBCBB">driver</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">bridge</span></code></pre>
<p>Przeklejamy powyższy plik do docker-compose.yml i zapisujemy. Posiadamy już deklaratywny plik, na podstawie którego docker-compose utworzy wszystko za nas.
Wykonujemy polecenie (dla osób z słabszym internetem - może trochę potrwać, bo pobierają się obrazy):</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">docker-compose up</span></code></pre>
<p>Sprawdzamy czy wszystko działa:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">docker ps</span></code></pre>
<p>Powinny się nam pojawić 2 działajace kontenery. Jeśli tak, to fajnie. :)</p>
<h3 id="model-danych">Model danych</h3>
<p>Zanim cokolwiek ciekawego zaczniemy robić, musimy zamodelować nasze dane. </p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">title</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">text</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">description</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">text</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">location</span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">:"geo_point"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">price</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">double</span><span style="color: #ECEFF4">"</span></code></pre>
<p>Idziemy w maksymalne uproszczenie schematu. Myślę, że model jest dość czytelny. Id zostanie dodane automatycznie. Mamy title i description o typie text, location jest punktem (x,y), który można osadzić na mapie, price to cena - double. Tyle na teraz wystarczy.</p>
<h3 id="mappingi--typy">Mappingi &#x26; Typy</h3>
<p>W Elasticu nasz “scheme” definiujemy za pomocą mappingów. Określamy w nich strukturę dokumentów (np offer ). W mappingach można również zawrzeć w nich dodatkowe techniczne ustawienia - ilość replik, timeouty. Dawniej w jednym indexie mozna było przechowywać wiele typów, co powodowało czasem dziwne błędy. Jednak w najnowszych wersjach elastica, jest jeden “typ” per index. Da się to ominąć, znajdziesz to w <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/removal-of-types.html#_custom_type_field." title="dokumentacji" target="_blank" rel="nofollow noopener noreferrer">dokumentacji</a>.</p>
<p>Zapisujemy poniższą składnię w pliku offer_mapping.json. Umożliwi to nam stworzenie indeksu. Wykorzystamy go za chwile. </p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">mappings</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">properties</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">type</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">text</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                   </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">type</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">text</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                   </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">type</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">geo_point</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                   </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">type</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">double</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>Wykonujemy komendę, tworząc tym samym nowy index.</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">curl -H </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">Content-Type: application/json</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> -X PUT http://localhost:3000/offers --data </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">@offer_schema.json</span><span style="color: #ECEFF4">"</span></code></pre>
<p>W dalszej części do wykonywania requestów będę już używać devtoolsów w kibanie, bo będzie czytelniej. Jeśli nie chcesz tego używać i wolisz CLI, z łatwością wykonasz requesty np. curlem, jak powyżej.</p>
<h4 id="kibana-devtools">Kibana Devtools</h4>
<p><img src="/images/posts/elasticsearch-zapytania/elasticsearch-1.png" alt="Tak wyglądają devtoolsy" title="Tak wyglądają devtoolsy"></p>
<h3 id="feedowanie-danych">Feedowanie danych</h3>
<p>Poniżej mini-zbiór danych do sprawdzenia, jak to działa.</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">POST offers/_doc</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">              </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpety rozmiar 36</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">              </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">kolorowe skarpetki w kropki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">              </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                 </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">40</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF">                 </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-70</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">              </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">10.00</span>
<span style="color: #ECEFF4">}</span>

<span style="color: #D8DEE9FF">POST offers/_doc</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">szelki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">szelki w kolorze czarnym, rozmiar XS</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                 </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">50</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF">                 </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-40</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">14.00</span>

<span style="color: #ECEFF4">}</span>

<span style="color: #D8DEE9FF">POST offers/_doc</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">muszka</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">czerwona, męska</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                 </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">50</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF">                 </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-30</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">               </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">130.00</span>

<span style="color: #ECEFF4">}</span></code></pre>
<h3 id="scenariusze-z-życia-wzięte">Scenariusze z życia wzięte:</h3>
<h4 id="użytkownik-wyszukuje-pełnotekstowo-po-tytule-oferty">Użytkownik wyszukuje pełnotekstowo po tytule oferty:</h4>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">GET offers/_search</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">query</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">match</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpetki</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>Odpowiedź z serwera, widzimy znaleziony rekord, ponieważ w tytule zawarte jest słowo "skarpetki":</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">took</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">timed_out</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_shards</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">successful</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">skipped</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">failed</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">value</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">relation</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">eq</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">max_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0.7389809</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">[</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_index</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">offers</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_type</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">_doc</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_id</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">QiyNanQB6SAY5Ir04SbI</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0.7389809</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_source</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpety rozmiar 36</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">kolorowe skarpetki w kropki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">40</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-70</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">10.0</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">]</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<h4 id="użytkownik-w-filtrach-wybiera-zakres-cenowy">Użytkownik w filtrach wybiera zakres cenowy</h4>
<p>Ustalamy:</p>
<ul>
<li>gte (greater than or equal) - większe lub równe 10, </li>
<li>lte (lower than or equal) - mniejsze lub równe 20</li>
</ul>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">GET offers/_search</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">query</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">range</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">gte</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">10</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lte</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">20</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">boost</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2.0</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>Znalezione 2 oferty, z ceną większą niż 10 ale mniejszą niż 20.</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">took</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">timed_out</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_shards</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">successful</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">skipped</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">failed</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">value</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">relation</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">eq</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">max_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2.0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">[</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_index</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">offers</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_type</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">_doc</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_id</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">QiyNanQB6SAY5Ir04SbI</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2.0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_source</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpety rozmiar 36</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">kolorowe skarpetki w kropki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">40</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-70</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">10.0</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_index</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">offers</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_type</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">_doc</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_id</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">RCyNanQB6SAY5Ir07CYY</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">2.0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_source</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">szelki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">szelki w kolorze czarnym, rozmiar XS</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">50</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-40</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">14.0</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">]</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<h4 id="szukanie-po-lokalizacji">Szukanie po lokalizacji:</h4>
<p>Chcemy znaleźć oferty w promieniu 100km od miejscowości o współrzędnych [-70.001, 40.002]</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">GET offers/_search</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">query</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">bool</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">must</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">match_all</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{}</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">filter</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">geo_distance</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">                    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">distance</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">100km</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">                    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">[</span><span style="color: #B48EAD">-70.001</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">40.002</span><span style="color: #ECEFF4">]</span>
<span style="color: #D8DEE9FF">                </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>Odpowiedź z serwera:</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">took</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">timed_out</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_shards</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">successful</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">skipped</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">failed</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">value</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">relation</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">eq</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">max_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1.0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">[</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_index</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">offers</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_type</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">_doc</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_id</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">-SyVanQB6SAY5Ir0BSZs</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1.0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_source</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpety rozmiar 36</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">kolorowe skarpetki w kropki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">40</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-70</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">10.0</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">]</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>Znalazło 1 rekord o współrzędnych [-70, 40].</p>
<h4 id="wyszukiwanie-również-w-opisie">Wyszukiwanie również w opisie</h4>
<p>Mamy 1 rekord, który w tytule ma "skarpety" a w opisie "skarpetki". Chcemy go wyszukać po opisie. Ogólnie da się skonfigurować, żeby wyszukiwało pochodne słowa od skarpety, ale to może w innym poście :)</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #D8DEE9FF">GET offers/_search</span>
<span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">query</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">multi_match</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">query</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpetki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">fields</span><span style="color: #ECEFF4">":</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">[</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">title</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">description</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">]</span><span style="color: #D8DEE9FF"> </span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>No i mamy znalezione skarpetki.</p>
<pre class="shiki" style="background-color: #2e3440"><code><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">took</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">timed_out</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #81A1C1">false</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_shards</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">successful</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">skipped</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">failed</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">total</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">value</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">1</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">relation</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">eq</span><span style="color: #ECEFF4">"</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">max_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0.9808291</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">hits</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">[</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_index</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">offers</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_type</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">_doc</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_id</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">-SyVanQB6SAY5Ir0BSZs</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_score</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">0.9808291</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">_source</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">title</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">skarpety rozmiar 36</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">description</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">"</span><span style="color: #A3BE8C">kolorowe skarpetki w kropki</span><span style="color: #ECEFF4">"</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">location</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">{</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lat</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">40</span><span style="color: #ECEFF4">,</span>
<span style="color: #D8DEE9FF">            </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">lon</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">-70</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">},</span>
<span style="color: #D8DEE9FF">          </span><span style="color: #ECEFF4">"</span><span style="color: #8FBCBB">price</span><span style="color: #ECEFF4">"</span><span style="color: #D8DEE9FF"> </span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #B48EAD">10.0</span>
<span style="color: #D8DEE9FF">        </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">}</span>
<span style="color: #D8DEE9FF">    </span><span style="color: #ECEFF4">]</span>
<span style="color: #D8DEE9FF">  </span><span style="color: #ECEFF4">}</span>
<span style="color: #ECEFF4">}</span></code></pre>
<p>To tyle na dziś. Jako czytelnik różnych blogów lubię, gdy jest dużo przykładów, więc też w takiej formie postanowiłam stworzyć wpis. Będę testować, czy przyjemniej mi się tak pisze.</p>
</div><footer><div class="tags are-medium"><a href="/tag/elk/" class="tag is-dark is-rounded is-normal">
        elk
      </a><a href="/tag/elasticsearch/" class="tag is-dark is-rounded is-normal">
        elasticsearch
      </a><a href="/tag/data/" class="tag is-dark is-rounded is-normal">
        data
      </a><a href="/tag/database/" class="tag is-dark is-rounded is-normal">
        database
      </a></div><hr><div class="card"><div class="card-content"><div class="media"><div class="media-left"><figure class="image is-48x48"><a href="/author/Julia/"><img alt="Julia" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1280 1280' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-57b0b776eaf0c46a5fe80435581e66b4'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-57b0b776eaf0c46a5fe80435581e66b4)' width='1280' height='1280' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAABQcEBggDAQAC/8QAMxAAAQMDAwEGBAQHAAAAAAAAAQIDBAAFEQYSITEHEyJBUWEycYGRFELB0QgVIzNSobH/xAAZAQADAQEBAAAAAAAAAAAAAAABAgQDAAX/xAAfEQACAgMAAgMAAAAAAAAAAAAAAQIDERIhMUEEIjL/2gAMAwEAAhEDEQA/ANCAV1QOK/AroOlA4WXb1eV27TDERpW1UpwleD%2bVIzj7kUldCPRIt1Rcbgy46yyeVJx4VHocHr9Kun8R1yDt4hwkHIZaGR7k5/aq7pLs/k3a1Q7hvPdunftCtpwCR6HqKScko9KaYtvg8rNcbfMhofjvAoPIVVa7TtkzS1xQl1BIbKkgkZyOf0rhbrGu3adlRo7qi%2bo7ULz0OOaUl7tF3gImPSoofbO5K3HArKR5K56HPpUse%2byuS16V/T1nf1BOehxnWmTjeVOEgbQcEf8AKOXHs6uQi94l2OQ0AkpSDk88Hn6Chegp5g3sOpQFnaRtPnmmYNWPoAAhpCU8jCyDVicn4PPcV5NBpr11YbbUpRwEjJPtXyKD6zliDpa6yN2NkdeD7kY/WufgzS9GXO0m5m86plPAk73dqfYdB/rFM3R19VCtdvhzFIjsd13aFdMqHkT0H60iLjIU7LUoE7s7s%2bmaaXZvfrdeYi7XdFIalIG0hZ4X7isLk9UX0OO2GXuM9dg00w7Mtb0FKyorQT3hT7AdKDdo2qLe9o%2b4MIWkyAktkAfmrpcNN2m3NrlypTK4yBu8WE/Q460m9c6pbubibdbkIERsjctIxux0A9qwhFylwoulGEc5IGhx3mo4rROA54efWnCqxEj4k/Y0rezOD%2bL1vZGSThbwz8ua1WrTEQ4wV9efFVmTzXwsT77UZhx59xLbSElSlqOAkDzJpMdresRe7UbXYVFcdw5eeI2hYHQDPOPPpU7ti1QGprVlS7sYQgOvgdXFn4U/IDk/MelK1uQypwEOFSlHH3pLJtcQ9NafWUR1stPOhQOfX3ryzpDt0CSSCehHrR/VcdqM33zeNzvhAHl61L7LIcOZqRDMsI71SSWt3moYPH2NBzzDJooYmkFYmnnbgjvZrzyozSSrapRNKpCkvXJZTwlSlbfl5VpntFLdq0Xdn2kJQRHKEkf5K8Ix96zJbAP5pFB6FwChRlxbD8lraKRddJPO2q6Rbg1/djqyn5itSaQ1ladTw0KhyW0ysf1Iy1YWg%2bfB6isp6meEG3tojKKXCv4gecCgke%2byW1pcUhPep5DicpUPqKNeX9kJao/llw1JcHb3qabcZK9qXnVLSg9dufCPbjFRo0d1x8OIzsSQon9qEIStUxRkLygEcepqwO3RLEUNspAWU%2bHPRPufehZlD14IN/d/FTC3jwNJ2g%2b/U0EZnPWudGmxFBL8Z0OoJ6ZB8/apa3gMIHKj5%2bvNQix3ylZPTNdHiwCXR3a2uSdU9kcidASXC62lam2/EUKChuSfcc/Ss5ocLbyHEnlKgofejjN9ulvtUq0Q5a2YUtQU6hJwTgYxnyB8/XAoM42Egeas1rXDRNGNk92mHbk6JbqS4coTyfkajzUxnUITFSQoHCs1DLwLRBJHGM1Ps7ae7LijwfM0qWqHzsz/2Q==' /%3e%3c/svg%3e" width="1280" data-src="/assets/static/avatarLg.7c86909.3a4b1105ba454ab12990d76531f1ff35.jpeg" data-srcset="/assets/static/avatarLg.82a2fbd.3a4b1105ba454ab12990d76531f1ff35.jpeg 480w, /assets/static/avatarLg.7c86909.3a4b1105ba454ab12990d76531f1ff35.jpeg 1280w" data-sizes="(max-width: 1280px) 100vw, 1280px" class="is-rounded g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/avatarLg.7c86909.3a4b1105ba454ab12990d76531f1ff35.jpeg" class="is-rounded g-image g-image--loaded" width="1280" alt="Julia"></noscript></a></figure></div><div class="media-content"><p class="title is-4"><a href="/author/Julia/">
            Julia</a></p><p class="subtitle is-6">julia.anna.glaszka@interia.pl</p></div></div><div class="content"><p> Pasjonuję się IT, ekonomią i muzyką. 
    Od 2019 siedzę z tyłu, bawiąc się backendem, systemami i infrastrukturą - głównie przez to, 
    że strasznie podobaja mi się idea mikroserwisów i chciałabym umieć zaprojektować wydajną architekturę na potrzeby różnych case'ów biznesowych.
    Moim ulubionym językiem jest Java i w niej pracuję na codzień, umiem też kodzić w Javascript'cie, w Kotlinie, Groovym, Golangu (i w paru innych językach). </p></div></div><footer class="card-footer"><a href="/author/Julia/" class="card-footer-item">
            See all posts by Julia →</a></footer></div></footer></div></div></div><footer class="footer has-background-primary p-t-xl"><div class="container"><div class="columns"><div class="column has-text-left"><a href="#" class="title is-4 has-text-grey">Autodydaktycznie Blog</a><br><p class="pt-5"> 
            Wynalazca to człowiek, który pyta wszechświat: &quot;Dlaczego?&quot; 
            i nie pozwala,
            by cokolwiek stanęło między odpowiedzią 
            a jego umysłem. ~ &quot;Atlas Shrugged&quot;, Ayn Rand</p><p class="pt-5"><a href="/author/Julia" class="has-text-grey">O Autorce</a></p><p class="pt-1"><a href="https://www.linkedin.com/in/julia-glaszka/" target="_blank" rel="noopener" class="has-text-grey mt-5">LinkedIn</a></p></div><div class="column has-text-centered has-text-right-tablet"><p class="subtitle is-5"><span class="copyleft">©</span> juliagl</p></div></div></div></footer></div>
    <script src="/assets/js/app.3b512c09.js" defer></script><script src="/assets/js/page--src--templates--post-vue.be7a2abd.js" defer></script>
  </body>
</html>
